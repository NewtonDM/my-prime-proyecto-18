<div class="container mt-5">
  <h2 class="text-center text-primary mb-4">Productos a agregar</h2>
</div>

<div class="container mt-4">
  <form [formGroup]="miFormulario" (ngSubmit)="onSubmit()">
    <div class="row">
      <div class="col-12 col-lg-12 col-md-6 col-xs-3">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Nombre</mat-label>
          <input
          class="form-control"
          matInput
          type="text"
          formControlName="nombre"
          />
          @if (miFormulario.get('nombre')?.hasError('required') && miFormulario.get('nombre')?.touched) {
            <mat-error >Es requerido el nombre</mat-error>
          }
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col-12 col-lg-12 col-md-6  col-xs-3">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Apellidos</mat-label>
          <input
            matInput
            class="form-field"
            formControlName="apellido"
            type="text"
          />
          @if (miFormulario.get('apellido')?.hasError('required') && miFormulario.get('apellido')?.touched) {
            <mat-error>Es requerido el apellido</mat-error>
          }
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col-12 col-lg-12 col-md-6  col-xs-3">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Email</mat-label>
          <input
          matInput
          class="form-control"
          formControlName="email"
          type="email"
          />
          @if (miFormulario.get('email')?.hasError('email')&& miFormulario.get('email')?.touched) {
            <mat-error>Debes ingresar un email v√°lido</mat-error>
          } @else if (miFormulario.get('email')?.hasError('required') && miFormulario.get('email')?.touched) {
            <mat-error>Es requerido el Email</mat-error>
          }
        </mat-form-field>
      </div>
    </div>
    <button mat-raised-button color="primary" class="btn btn-primary mt-3" type="submit" >Agregar producto</button>
  </form>
  <div class="mt-4">
    <mat-table class="table table-striped table-bordered table-hover" [dataSource]="dataSource">
      <ng-container matColumnDef="id">
        <mat-header-cell *matHeaderCellDef>ID</mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.id}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="nombre">
        <mat-header-cell *matHeaderCellDef>Nombre</mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.nombre}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="apellido">
        <mat-header-cell *matHeaderCellDef>Apellido</mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.apellido}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="email">
        <mat-header-cell *matHeaderCellDef>Email</mat-header-cell>
        <mat-cell *matCellDef="let element">{{element.email}}</mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>
  </div>
</div>
